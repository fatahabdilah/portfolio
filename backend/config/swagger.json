{
  "openapi": "3.0.0",
  "info": {
    "title": "My Portfolio API",
    "version": "1.0.0",
    "description": "The official REST API for Fatah Abdilah's portfolio application. This API manages projects, technologies, blogs, and user authentication.",
    "contact": {
      "name": "Fatah Abdilah",
      "email": "fatah.abdilah@example.com",
      "url": "https://fatahabdilah.my.id"
    },
    "license": {
      "name": "ISC",
      "url": "https://opensource.org/licenses/ISC"
    }
  },
  "servers": [
    {
      "url": "http://localhost:5000"
    }
  ],
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "Project": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "example": "60d0fe4f5311236168a109ca"
          },
          "title": {
            "type": "string",
            "example": "E-commerce Platform"
          },
          "content": {
            "type": "string",
            "description": "The full detailed content/description of the project.",
            "example": "This project involved building a full-featured e-commerce platform..."
          },
          "technologies": {
            "type": "array",
            "description": "An array of Technology objects associated with the project.",
            "items": {
              "$ref": "#/components/schemas/Technology"
            },
            "example": [
              {
                "_id": "60d0fe4f5311236168a109cb",
                "name": "React"
              },
              {
                "_id": "60d0fe4f5311236168a109cc",
                "name": "Node.js"
              }
            ]
          },
          "imageUrl": {
            "type": "string",
            "format": "uri",
            "example": "https://res.cloudinary.com/demo/image/upload/v1624582000/sample.jpg"
          },
          "demoUrl": {
            "type": "string",
            "example": "https://demo.example.com"
          },
          "repoUrl": {
            "type": "string",
            "example": "https://github.com/user/repo"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "Technology": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "example": "60d0fe4f5311236168a109cb"
          },
          "name": {
            "type": "string",
            "example": "JavaScript"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "Blog": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "example": "60d0fe4f5311236168a109ce"
          },
          "title": {
            "type": "string",
            "example": "The Power of Serverless Functions"
          },
          "content": {
            "type": "string",
            "description": "Full blog content.",
            "example": "## Introduction\nThis article discusses..."
          },
          "thumbnailUrl": {
            "type": "string",
            "format": "uri",
            "description": "URL of the blog post's thumbnail.",
            "example": "https://res.cloudinary.com/demo/image/upload/v1624582000/blog_thumbnail.jpg"
          },
          "user": {
            "type": "string",
            "description": "ID of the admin user who authored the post.",
            "example": "60d0fe4f5311236168a109c0"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "PaginatedProjectList": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/Project" }
          },
          "currentPage": { "type": "integer", "example": 1 },
          "totalPages": { "type": "integer", "example": 5 },
          "totalItems": { "type": "integer", "example": 45 }
        }
      },
      "PaginatedBlogList": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/Blog" }
          },
          "currentPage": { "type": "integer", "example": 1 },
          "totalPages": { "type": "integer", "example": 3 },
          "totalItems": { "type": "integer", "example": 28 }
        }
      },
      "Error": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string"
          }
        },
        "required": ["error"],
        "examples": [
          {
            "error": "Resource not found."
          }
        ]
      },
      "SuccessMessage": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          }
        },
        "required": ["message"]
      },
      "UserLoginSuccess": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "example": "admin@myportfolio.com"
          },
          "name": {
            "type": "string",
            "example": "Fatah Abdilah"
          },
          "token": {
            "type": "string",
            "description": "The JWT token used for subsequent private API calls."
          }
        },
        "required": ["email", "name", "token"]
      }
    },
    "responses": {
      "UnauthorizedError": {
        "description": "Authentication error. The provided JWT is either missing, invalid, or expired.",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Error"
            },
            "example": { "error": "Request is not authorized" }
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "Projects",
      "description": "Everything about your Projects"
    },
    {
      "name": "Technologies",
      "description": "Everything about the technologies and skills used."
    },
    {
      "name": "Blogs",
      "description": "Management and display of blog posts/articles."
    },
    {
      "name": "Users",
      "description": "User authentication and management"
    }
  ],
  "paths": {
    "/api/projects": {
      "get": {
        "tags": ["Projects"],
        "summary": "Fetch all projects with Pagination and Search/Filter (Includes Full Content)",
        "description": "Retrieves a paginated list of all project entries. Includes the full project `content`. Can be filtered by search query (title/content) and technology IDs.",
        "security": [],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "default": 1 },
            "description": "Page number to retrieve."
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "default": 10 },
            "description": "Number of items per page."
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": { "type": "string" },
            "description": "Search keyword for filtering by project title or content."
          },
          {
            "name": "tech",
            "in": "query",
            "required": false,
            "schema": { "type": "string" },
            "description": "Comma-separated list of Technology Object IDs to filter by (e.g., 'id1,id2,id3')."
          }
        ],
        "responses": {
          "200": {
            "description": "A paginated list of projects was successfully retrieved.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PaginatedProjectList" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Projects"],
        "summary": "Create a new project",
        "description": "Adds a new project to the database. Requires authentication. The request must be `multipart/form-data` to handle the image upload.",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "content": {
                    "type": "string",
                    "description": "The detailed content/description of the project."
                  },
                  "technologies": {
                    "type": "string",
                    "description": "Comma-separated list of Technology Object IDs."
                  },
                  "projectImage": {
                    "type": "string",
                    "format": "binary"
                  },
                  "demoUrl": {
                    "type": "string"
                  },
                  "repoUrl": {
                    "type": "string"
                  }
                },
                "required": ["title", "content", "technologies", "projectImage"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The project was created successfully.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Project" }
              }
            }
          },
          "400": {
            "description": "Bad Request. Input validation failed, title is not unique, or there was an issue with the image upload.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "description": "Internal Server Error.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          }
        }
      }
    },
    "/api/projects/{id}": {
      "get": {
        "tags": ["Projects"],
        "summary": "Fetch a single project by its ID",
        "description": "Retrieves a specific project using its MongoDB **ObjectID**.",
        "security": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "The MongoDB ObjectID of the project to retrieve."
          }
        ],
        "responses": {
          "200": {
            "description": "The requested project was found and returned.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Project" }
              }
            }
          },
          "404": {
            "description": "Not Found. A project with the specified ID does not exist.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Projects"],
        "summary": "Delete a project (Admin Only)",
        "description": "Permanently removes a project from the database and deletes its associated image from Cloudinary. Requires authentication. Uses ObjectID.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "The MongoDB ObjectID of the project to delete."
          }
        ],
        "responses": {
          "200": {
            "description": "The project was deleted successfully.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/SuccessMessage" }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "Not Found. A project with the specified ID does not exist or the user is not authorized to delete it.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["Projects"],
        "summary": "Update an existing project (Admin Only)",
        "description": "Updates one or more fields of an existing project. Requires authentication. The request must be `multipart/form-data` if an image is being updated. Uses ObjectID.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "The MongoDB ObjectID of the project to update."
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "content": {
                    "type": "string",
                    "description": "The detailed content/description of the project."
                  },
                  "technologies": {
                    "type": "string",
                    "description": "Comma-separated list of Technology Object IDs."
                  },
                  "projectImage": {
                    "type": "string",
                    "format": "binary",
                    "description": "Optional new image file to replace the old one."
                  },
                  "demoUrl": {
                    "type": "string"
                  },
                  "repoUrl": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The project was updated successfully.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Project" }
              }
            }
          },
          "400": {
            "description": "Bad Request. Input validation failed or the new title results in a duplicate name.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "Not Found. A project with the specified ID does not exist or the user is not authorized to update it.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          }
        }
      }
    },
    "/api/technologies": {
      "get": {
        "tags": ["Technologies"],
        "summary": "Fetch all available technologies (Private)",
        "description": "Retrieves a list of all technologies from the database, sorted alphabetically. Requires authentication.",
        "responses": {
          "200": {
            "description": "A list of all technologies was successfully retrieved.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/Technology" }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "description": "Internal Server Error.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Technologies"],
        "summary": "Create a new technology entry",
        "description": "Adds a new technology to the database. Requires authentication.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  }
                },
                "required": ["name"],
                "example": { "name": "Docker" }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The technology was created successfully.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Technology" }
              }
            }
          },
          "400": {
            "description": "Bad Request. The technology may already exist or the name is invalid.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/technologies/{id}": {
      "get": {
        "tags": ["Technologies"],
        "summary": "Fetch a single technology by ID (Private)",
        "description": "Retrieves a specific technology using its unique MongoDB ObjectID. Requires authentication.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "The MongoDB ObjectID of the technology to retrieve."
          }
        ],
        "responses": {
          "200": {
            "description": "The requested technology was found and returned.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Technology" }
              }
            }
          },
          "404": {
            "description": "Not Found. A technology with the specified ID does not exist.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["Technologies"],
        "summary": "Update a technology's name",
        "description": "Updates the name of an existing technology. Requires authentication.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "The MongoDB ObjectID of the technology to update."
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  }
                },
                "required": ["name"],
                "example": { "name": "Kubernetes" }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The technology was updated successfully.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Technology" }
              }
            }
          },
          "400": {
            "description": "Bad Request. The technology name may already exist or is invalid.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "Not Found. A technology with the specified ID does not exist or the user is not authorized to update it.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Technologies"],
        "summary": "Delete a technology",
        "description": "Permanently removes a technology from the database. Deletion automatically removes references from all related projects (cascade delete). Requires authentication.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "The MongoDB ObjectID of the technology to delete."
          }
        ],
        "responses": {
          "200": {
            "description": "The technology was deleted successfully.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/SuccessMessage" }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "Not Found. A technology with the specified ID does not exist or the user is not authorized to delete it.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          }
        }
      }
    },
    "/api/blogs": {
      "get": {
        "tags": ["Blogs"],
        "summary": "Fetch all blog posts with Pagination and Search (Includes Full Content)",
        "description": "Retrieves a paginated list of all blog posts for public display, including the full `content`. Can be filtered by search query (title/content).",
        "security": [],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "default": 1 },
            "description": "Page number to retrieve."
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "default": 10 },
            "description": "Number of items per page."
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": { "type": "string" },
            "description": "Search keyword for filtering by blog title or content."
          }
        ],
        "responses": {
          "200": {
            "description": "A paginated list of blog posts was successfully retrieved.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PaginatedBlogList" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Blogs"],
        "summary": "Create a new blog post",
        "description": "Creates a new blog entry. Requires Admin authentication. Must be `multipart/form-data` to handle the thumbnail image upload.",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "content": {
                    "type": "string"
                  },
                  "thumbnail": {
                    "type": "string",
                    "format": "binary",
                    "description": "The main thumbnail image file (max 5MB)."
                  }
                },
                "required": ["title", "content", "thumbnail"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The blog post was created successfully.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Blog" }
              }
            }
          },
          "400": {
            "description": "Bad Request. Validation failed (e.g., duplicate title) or image upload issue.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/blogs/{id}": {
      "get": {
        "tags": ["Blogs"],
        "summary": "Fetch a single blog post by its ID",
        "description": "Retrieves a specific blog post using its **ObjectID**, including the full content.",
        "security": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "The MongoDB ObjectID of the blog post."
          }
        ],
        "responses": {
          "200": {
            "description": "The requested blog post was found and returned.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Blog" }
              }
            }
          },
          "404": {
            "description": "Not Found. A blog post with the specified ID does not exist.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Blogs"],
        "summary": "Delete a blog post (Admin Only)",
        "description": "Permanently removes a blog post and its thumbnail. Requires authentication. Uses ObjectID.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "The MongoDB ObjectID of the blog post to delete."
          }
        ],
        "responses": {
          "200": {
            "description": "The blog post was deleted successfully.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/SuccessMessage" }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "Not Found. The post does not exist or the user is not authorized.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["Blogs"],
        "summary": "Update an existing blog post (Admin Only)",
        "description": "Updates fields of an existing blog post. Requires authentication. Must be `multipart/form-data` if the thumbnail is being updated. Uses ObjectID.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "The MongoDB ObjectID of the blog post to update."
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "content": {
                    "type": "string"
                  },
                  "thumbnail": {
                    "type": "string",
                    "format": "binary",
                    "description": "Optional new thumbnail file to replace the old one."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The blog post was updated successfully.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Blog" }
              }
            }
          },
          "400": {
            "description": "Bad Request. Input validation failed or the new title results in a duplicate name.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "Not Found. The post does not exist or the user is not authorized.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          }
        }
      }
    },
    "/api/users/forgot-password": {
      "post": {
        "tags": ["Users"],
        "summary": "Initiate the password reset flow",
        "description": "Sends a password reset link to the user's email address if the account exists. For security reasons, this endpoint always returns a success message, regardless of whether the email was found in the database. The reset link token is **valid for 1 hour**.",
        "security": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  }
                },
                "required": ["email"],
                "example": { "email": "user@example.com" }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The request has been processed. If an account with this email exists, a reset link has been sent.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/SuccessMessage" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error, e.g., failed to send the email.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          }
        }
      }
    },
    "/api/users/login": {
      "post": {
        "tags": ["Users"],
        "summary": "Authenticate user and get a token",
        "description": "Authenticates a user's credentials (email and password) and returns a JWT token for accessing protected endpoints.",
        "security": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "admin@myportfolio.com"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "example": "ChangeMe123!"
                  }
                },
                "required": ["email", "password"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful. Returns user details and the JWT token.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/UserLoginSuccess" }
              }
            }
          },
          "400": {
            "description": "Bad Request. Incorrect email or password.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          }
        }
      }
    },
    "/api/users/resetpassword/{token}": {
      "patch": {
        "tags": ["Users"],
        "summary": "Finalizes the password reset",
        "description": "Resets user's password using the token provided in the URL. The token is consumed immediately upon successful reset and automatically expires after 1 hour if unused.",
        "security": [],
        "parameters": [
          {
            "name": "token",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "The password reset token from the email link."
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "password": {
                    "type": "string",
                    "format": "password",
                    "example": "MyNewSecurePassword123!"
                  }
                },
                "required": ["password"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The password was reset successfully.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/SuccessMessage" }
              }
            }
          },
          "400": {
            "description": "Bad Request. The password reset token is invalid or has expired.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Error" }
              }
            }
          }
        }
      }
    },
    "/api/users/profile": {
      "get": {
        "tags": ["Users"],
        "summary": "Get authenticated user's profile",
        "description": "Fetches the profile data for the currently authenticated user. Requires a valid JWT in the Authorization header.",
        "responses": {
          "200": {
            "description": "User profile data retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": { "type": "string" },
                    "userId": { "type": "string" }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/UnauthorizedError" }
        }
      }
    }
  }
}